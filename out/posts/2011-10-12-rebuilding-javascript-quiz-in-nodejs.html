<!DOCTYPE HTML>
<!--
    Strongly Typed 1.0 by HTML5 UP
    html5up.net | @n33co
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
    <head>
  <meta charset="utf-8">
  <title>Rebuilding JavaScript Quiz in Nodejs - LINQ to Fail</title>
  <meta name="author" content="Aaron Powell">
  <meta name="viewport" content="width=1040" />
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Arvo:700" rel="stylesheet" type="text/css" />
  <link href="/css/highlightjs/solarized_light.css" rel="stylesheet" type="text/css" />
  <script src="/js/jquery-1.9.1.min.js"></script>
  <script src="/js/jquery.dropotron-1.3.js"></script>
  <script src="/js/config.js"></script>
  <script src="/js/skel.min.js"></script>
  <script src="/js/skel-ui.min.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/skel-noscript.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/style-desktop.css" />
  </noscript>
  <!--[if lte IE 8]><script src="/js/html5shiv.js"></script><![endif]-->

</head>

    <body class="left-sidebar">

        <div id="header-wrapper">
            <div id="header" class="container">
                <h1 id="logo">Rebuilding JavaScript Quiz in Nodejs</h1>
                <h2>12th October 2011</h2>
                <ul class="tags">
    
        
            <li><a class="icon icon-tag" href="/tagged/nodejs.html"><span>nodejs</span></a></li>
        
            <li><a class="icon icon-tag" href="/tagged/javascript.html"><span>javascript</span></a></li>
        
    
</ul>
                <!-- Nav -->
<nav id="nav">
    <ul>
        <li><a class="icon icon-home" href="/"><span>Home</span></a></li>
        <li><a class="icon icon-github" href="https://github.com/aaronpowell"><span>aaronpowell</span></a></li>
        <li><a class="icon icon-twitter" href="http://twitter.com/slace"><span>@slace</span></a></li>
        <li><a class="icon icon-book" href="/about"><span>About Me</span></a></li>
        <li><a class="icon icon-rss" href="/feed"><span>Feed</span></a></li>
    </ul>
</nav>

            </div>
        </div>

        <div id="main-wrapper">
            <div id="main" class="container">
                <div class="row">
                    <div id="sidebar" class="4u">
    <section>
        <ul class="divided">
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">6th September 2013</span>
                            <h3><a href="/posts/2013-09-06-linq-in-javascript-es6.html">LINQ in JavaScript, ES6 style</a></h3>
                        </header>
                        <p>It&#39;s been a few years since I last blogged about the concept of LINQ in JavaScript as a lot has changed in the JavaScript landscape.</p>
<p>So let&#39;s revisit the idea of it with a look at how you could leverage LINQ in JavaScript for ES6.</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/javascript.html"><span>javascript</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/linq.html"><span>linq</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/es6.html"><span>es6</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">2nd August 2013</span>
                            <h3><a href="/posts/2013-08-02-ajax-without-jquery.html">AJAX without jQuery</a></h3>
                        </header>
                        <p>When was the last time you wrote an AJAX request?</p>
<p>When was the last time you did it without relying on jQuery?</p>
<p>In this article we&#39;ll look at how do do just that, how do make an AJAX request without jQuery to better understand what&#39;s going on.</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/javascript.html"><span>javascript</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/ajax.html"><span>ajax</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/jquery.html"><span>jquery</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">22nd July 2013</span>
                            <h3><a href="/posts/2013-07-22-array-like-objects.html">Array-like objects</a></h3>
                        </header>
                        <p>Just because it looks like a duck, walks like a duck, quacks like a duck doesn&#39;t mean it&#39;s a duck. There&#39;s dangers with making assumptions of your JavaScript objects based on their surface area.</p>
<p>That said, a lot of power can be gleamed by these seemingly innocent assumptions.</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/javascript.html"><span>javascript</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">14th July 2013</span>
                            <h3><a href="/posts/2013-07-14-javascript-new-operator.html">The JavaScript new operator</a></h3>
                        </header>
                        <p>Time to revisit something that was overlooked in the last post, the <code>new</code> operator in JavaScript and what it does.</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/javascript.html"><span>javascript</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">10th July 2013</span>
                            <h3><a href="/posts/2013-07-10-implementing-indexers-in-javascript.html">Implementing "indexers" in JavaScript</a></h3>
                        </header>
                        <p>My colleague Luke Drumm challenged me to implement C# style indexers in JavaScript.</p>
<p>So let&#39;s have a look at how you can do that, and how you can make some very interesting JavaScript objects that are self replicating. We&#39;ll build on the knowledge of using <code>bind</code> and <code>apply</code> from the last two posts.</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/javascript.html"><span>javascript</span></a>
                            
                        </div>
                    </article>
                </li>
            
        </ul>
    </section>
</div>

                    <div id="content" class="8u skel-cell-mainContent">
                        <article class="is-post">
                            <p>A few months back I <a href="http://www.aaron-powell.com/javascript/javascript-quiz">announced a new site</a> I was running called <a href="http://javascriptquiz.com">JavaScript Quiz</a>. When I started to site it was to be done quickly so I chose an out-of-the-box blogging platform, that being <a href="http://posterous.com/">Posterous</a>.</p>
<p>Since then I&#39;ve come to realise that it <em>isn&#39;t</em> the platform I want wanting to go with. One of my main problems with it is its comment management system. Anyone who has submitted an answer to me will know what I&#39;m talking about, the excessive spam which you end up with when I do publish all the answers.</p>
<p>Well because of this I decided to move away from Posterous and go with a new platform. As my new platform I decided that I wanted to use <a href="http://nodejs.org">Node.js</a> because well this is a JavaScript quiz so why not use JavaScript!</p>
<h1>The software</h1>
<p>When looking at what I wanted to do with the new site I decided I wanted something that was easy to create a site in and also easy to update content it. A lot of people are raving about <a href="http://jekyllrb.com/">Jekyll</a> of recent, which is a Ruby <em>CMS</em> which runs a flat file system website and Markdown as an editing language.</p>
<p>This seemed ideal, JavaScript Quiz isn&#39;t a big site nor is it a dynamic site so something that runs off flat files is very ideal. I&#39;m also quite a fan of Markdown (<a href="http://funnelweblog.com/what-is-markdown">which we use in FunnelWeb</a>) so being able to write my posts in that is very nice an idea.</p>
<p>So I started looking for a Node.js alternative as I&#39;d prefer to use something than write it myself (<a href="http://www.aaron-powell.com/umbraco/so-long-and-thanks-for-all-the-fish">I&#39;m a bit over developing a CMS at the moment</a>) and I came across a project called <a href="https://github.com/balupton/docpad">Docpad</a>.</p>
<h2>Intro to Docpad</h2>
<p>Docpad is a Node.js CMS in a similar style to Jekyll written by a guy from Sydney named <a href="http://twitter.com/balupton">Benjamin Lupton</a> (and I like supporting home-grown software so that was a big plus). It&#39;s got a good set of templating engines to pick from so you don&#39;t have to use raw HTML if you want something a bit more cool for your templates (more shortly) and best of all it&#39;s shit simple to use.</p>
<p>You need to install the following <a href="http://npmjs.org">npm</a> packages and you&#39;re off and running:</p>
<ul>
<li>coffee-script</li>
<li>express</li>
<li>docpad</li>
</ul>
<p>You&#39;re better off installing both <code>coffee-script</code> and <code>docpad</code> globally since they both have executables but you don&#39;t have to.</p>
<p><em>Note: I had problems using Node.js with cygwin on Windows, I couldn&#39;t get <code>docpad</code> to install but that seemed to be a cygwin issue as it worked fine on both my Linux and OSX machines, just something to watch out for :).</em></p>
<p>This isn&#39;t a Docpad tutorial, go check out the <a href="https://github.com/balupton/docpad/wiki">docs</a> if you want to learn more.</p>
<h2>Templates</h2>
<p>As I mentioned Docpad has a number of different HTML templating engines available, you can use <a href="https://github.com/sstephenson/eco">Eco</a>, <a href="https://github.com/visionmedia/jade">Jade</a>, <a href="http://haml-lang.com/">Haml</a> or the one I chose, <a href="http://coffeekup.org/">CoffeeKup</a>!</p>
<p>CoffeeKup is a way of using <a href="http://coffeescript.org">CoffeeScript</a> as a HTML template engine. It&#39;s pretty cool and it means that you&#39;re able to do some really powerful things with the templates and interacting with the document you&#39;re rendering. Plus it means that we&#39;re using JavaScript/ CofeeScript for most of our site (one language to rule them all!).</p>
<h2>CSS</h2>
<p>I&#39;m not using any of the CSS templating engines (despite submitting a request for <a href="https://github.com/aeosynth/ccss">CCSS</a> to be included :P) mainly because I&#39;m using <a href="http://h5bp.com">HTML5 Boiler Plate</a>&#39;s css and I don&#39;t want to have to convert it every time I upgrade.</p>
<p>The rest of the CSS is really basic and I&#39;ve just cobbled together so I can get the site live, expect it to be improved as I get more time.</p>
<h1>Fixing commenting</h1>
<p>As I mentioned commenting is something that was really a pain to anyone who was entering the quiz each week as you&#39;d get spammed up with emails (don&#39;t worry, I got them all as well so it was <strong>very</strong> annoying). Good news is that the new site wont have this problem, I&#39;ve gone with <a href="http://disqus.com">Disqus</a> for comments (still moderated) which means that it should be much nicer an experience.</p>
<p>From an admin point of view it&#39;s much nicer as well :).</p>
<h1>Hosting</h1>
<p>One advantage of Posterous was that it was a hosted solution so it wasn&#39;t costing me any more and this is something that I wanted to ensure didn&#39;t change. I decided that I&#39;d go with <a href="http://heroku.com">Heroku</a> for my hosting since they have <a href="http://blog.heroku.com/archives/2011/6/22/the_new_heroku_2_node_js_new_http_routing_capabilities/">offered Node.js hosting for a while now</a>.</p>
<p>This means that I am also using Git to store the site and I have it hosted on GitHub at the moment (sorry it&#39;s not a public repo :P).</p>
<p>Because of this I have a nice workflow of being able to edit my content, run it through the Docpad &#39;compiler&#39; and commit in the generated HTML. This then goes up to Heroku and just runs off the flat files.</p>
<p>Ideally I&#39;d not be committing the generated files and have part of the app startup code generate the files but so far I&#39;ve had nothing but trouble getting it working that way. Heroku&#39;s cedar stack (which is where node.js runs) <strong>is</strong> a writable file system but something still seems to be going amiss (and it&#39;s not exactly easy to dig into...).</p>
<h1>Wrap up</h1>
<p>So this is how I&#39;ve gone about the relaunch of JavaScript Quiz. The new site should be active soon (awaiting the DNS to change over :P). I wont be porting the old comments so the old site will stay active. Hopefully I&#39;ve got the redirects all sorted out (yes the 404 page is pretty shit so far :P). Hopefully this provides a nice new home for the site.</p>

                        </article>
                    </div>
                    <div class="8u skel-cell-mainContent">
                        <article class="is-post">
                            <div id="disqus_thread"></div>
<script>
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
window.disqus_shortname = 'aaronpowell'; // required: replace example with your forum shortname
window.disqus_identifier = document.title || 'Home';
window.disqus_developer = !! ~document.location.href.indexOf("localhost") ? 1 : 0;
window.disqus_url = document.location.origin + '/javascript/rebuilding-javascript-quiz-in-nodejs';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by</a>
<span class="logo-disqus"> Disqus</span>

                        </article>
                    </div>
                </div>
            </div>
        </div>

        <div id="footer-wrapper">

    <!-- Copyright -->
        <div id="copyright" class="container">
            <ul class="links">
                <li>&copy; Aaron Powell. All rights reserved</li>
                <li>Design: <a href="http://html5up.net/">HTML5 UP</a></li>
            </ul>
        </div>

</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6399564-1']);
  _gaq.push(['_trackPageview']);

  (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();

</script>

    </body>
</html>