<!DOCTYPE HTML>
<!--
    Strongly Typed 1.0 by HTML5 UP
    html5up.net | @n33co
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
    <head>
  <meta charset="utf-8">
  <title>The problem with Assert.IsTrue | LINQ to Fail</title>
  <meta name="author" content="Aaron Powell">
  <meta name="viewport" content="width=1040" />
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Arvo:700" rel="stylesheet" type="text/css" />
  <link href="/css/highlightjs/solarized_light.css" rel="stylesheet" type="text/css" />
  <script src="/js/jquery-1.9.1.min.js"></script>
  <script src="/js/jquery.dropotron-1.3.js"></script>
  <script src="/js/config.js"></script>
  <script src="/js/skel.min.js"></script>
  <script src="/js/skel-ui.min.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/skel-noscript.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/style-desktop.css" />
  </noscript>
  <!--[if lte IE 8]><script src="/js/html5shiv.js"></script><![endif]-->

</head>

    <body class="left-sidebar">

        <div id="header-wrapper">
            <div id="header" class="container">
                <h1 id="logo">The problem with Assert.IsTrue</h1>
                <h2>8th January 2013</h2>
                <ul class="tags">
    
        <li><a class="icon icon-tag" href="/tagged/unit-testing.html"><span>unit-testing</span></a></li>
    
        <li><a class="icon icon-tag" href="/tagged/opinionated.html"><span>opinionated</span></a></li>
    
        <li><a class="icon icon-tag" href="/tagged/ranting.html"><span>ranting</span></a></li>
    
        <li><a class="icon icon-tag" href="/tagged/rant.html"><span>rant</span></a></li>
    
</ul>
                <!-- Nav -->
<nav id="nav">
    <ul>
        <li><a class="icon icon-home" href="/"><span>Home</span></a></li>
        <li><a class="icon icon-github" href="https://github.com/aaronpowell"><span>aaronpowell</span></a></li>
        <li><a class="icon icon-twitter" href="http://twitter.com/slace"><span>@slace</span></a></li>
        <li><a class="icon icon-book" href="/about"><span>About Me</span></a></li>
        <li><a class="icon icon-rss" href="/feed"><span>Feed</span></a></li>
    </ul>
</nav>

            </div>
        </div>

        <div id="main-wrapper">
            <div id="main" class="container">
                <div class="row">
                    <div id="sidebar" class="4u">
    <section>
        <ul class="divided">
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">17th January 2013</span>
                            <h3><a href="/posts/2013-01-17-should-internet-explorer-be-killed.html">Should Internet Explorer be killed?</a></h3>
                        </header>
                        <p>Is it time for the IE brand to end-of-life?</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/internet-explorer.html"><span>internet-explorer</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/opinionated.html"><span>opinionated</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">14th September 2012</span>
                            <h3><a href="/posts/2012-09-14-settings-suck.html">The settings suck</a></h3>
                        </header>
                        <p>Settings in Windows 8 XAML suck. Period.</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/xaml.html"><span>xaml</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/windows8.html"><span>windows8</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/rant.html"><span>rant</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">27th June 2012</span>
                            <h3><a href="/posts/2012-06-27-hungarian-jquery.html">Stop using Hungarian jQuery!</a></h3>
                        </header>
                        <p>The code smell that&#39;s creeping into JavaScript development</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/jquery.html"><span>jquery</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/rant.html"><span>rant</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/javascript.html"><span>javascript</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">25th June 2012</span>
                            <h3><a href="/posts/2012-06-25-i-helped-kill-umbraco-5.html">I helped kill Umbraco 5</a></h3>
                        </header>
                        <p>Hi, my name&#39;s Aaron Powell and I was involved in killing Umbraco 5.</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/umbraco.html"><span>umbraco</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/umbraco-5.html"><span>umbraco-5</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/opinionated.html"><span>opinionated</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">8th August 2011</span>
                            <h3><a href="/posts/2011-08-08-why-i-don-t-like-knockoutjs.html">Why I don't like KnockoutJS</a></h3>
                        </header>
                        <p>A few times I&#39;ve ruffled a few features by making the statement that I am not a fan of [KnockoutJS][1].</p>
<p>Let me start by clarifying a few things:</p>
<ol>
<li>I think the <em>concept</em> of KnockoutJS is a good o...</li>
</ol>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/javascript.html"><span>javascript</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/knockoutjs.html"><span>knockoutjs</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/rant.html"><span>rant</span></a>
                            
                        </div>
                    </article>
                </li>
            
        </ul>
    </section>
</div>

                    <div id="content" class="8u skel-cell-mainContent">
                        <article class="is-post">
                            <p>Have you ever seen a unit test that looks like this:</p>
<pre class="highlighted"><code class="avrasm">public void SomeTest()
{
    var foo = new Bar()<span class="comment">;</span>

    var result = foo<span class="preprocessor">.GetStuff</span>()<span class="comment">;</span>

    Assert<span class="preprocessor">.IsTrue</span>(result<span class="preprocessor">.Count</span>() == <span class="number">1</span>)<span class="comment">;</span>
}</code></pre>
<p>Do you know what&#39;s wrong with this test? I&#39;ll give you a clue, the developer use <code>Assert.IsTrue</code> and by doing so <strong>they&#39;ve made a bad test</strong>.</p>
<p>I see a lot of tests which contain <code>Assert.IsTrue</code> and 9 times out of 10 I cringe when I see it. Why? Those 9 times they have performed some kind of equality test and by doing so are making it difficult to determine what a failure is when it happens and more importantly you&#39;ve introduced logic into your assertion so you&#39;ve stopped asserting against values and started asserting against an operation.</p>
<p>Take the above test and what happens when the equality is false? Well obviously the test has failed but all your test runner will be able to tell you is just that, the equality is false. Is this because the number of results is less than 1? Greater than 1? How many are we out by? What is the actual value?</p>
<p><strong>All of this information is lost by the equality statement!</strong></p>
<p>Here&#39;s a tip, use <code>Assert.AreEqual</code>! Every testing framework I&#39;ve worked with has this method, or something that is pretty much that. Then you can write this:</p>
<pre class="highlighted"><code class="avrasm">public void SomeTest()
{
    var foo = new Bar()<span class="comment">;</span>

    var result = foo<span class="preprocessor">.GetStuff</span>()<span class="comment">;</span>

    Assert<span class="preprocessor">.AreEqual</span>(<span class="number">1</span>, result<span class="preprocessor">.Count</span>())<span class="comment">;</span>
}</code></pre>
<p>Now when your test fails the runner will tell you something along the lines of <code>Expected 1 but got 0</code>. This makes it much easier to work out what&#39;s wrong and fix your test.</p>
<p><em>That said</em> if you&#39;re asserting against a Boolean property/result/etc then by all means use <code>Assert.IsTrue</code> or <code>Assert.IsFalse</code> (don&#39;t <code>Assert.IsTrue(!somethingFalse)</code>, that&#39;s just stupid).</p>
<p><strong>TL;DR - Don&#39;t use <code>Assert.IsTrue</code> when there are specialised assertion methods to do it for you, they&#39;ll give you better feedback when a test fails.</strong></p>
<p>&lt;/rant&gt;</p>

                        </article>
                    </div>
                    <div class="8u skel-cell-mainContent">
                        <article class="is-post">
                            <div id="disqus_thread"></div>
<script>
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
window.disqus_shortname = 'aaronpowell'; // required: replace example with your forum shortname
window.disqus_identifier = document.title || 'Home';
window.disqus_developer = !! ~document.location.href.indexOf("localhost") ? 1 : 0;
window.disqus_url = document.location.origin + '/rant/the-problem-with-assert-istrue';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by</a>
<span class="logo-disqus"> Disqus</span>

                        </article>
                    </div>
                </div>
            </div>
        </div>

        <div id="footer-wrapper">

    <!-- Copyright -->
        <div id="copyright" class="container">
            <ul class="links">
                <li>&copy; Aaron Powell. All rights reserved</li>
                <li>Design: <a href="http://html5up.net/">HTML5 UP</a></li>
            </ul>
        </div>

</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6399564-1']);
  _gaq.push(['_trackPageview']);

  (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();

</script>

    </body>
</html>