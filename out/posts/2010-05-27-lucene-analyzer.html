<!DOCTYPE HTML>
<!--
    Strongly Typed 1.0 by HTML5 UP
    html5up.net | @n33co
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
    <head>
  <meta charset="utf-8">
  <title>Analyzers in Lucene.Net - LINQ to Fail</title>
  <meta name="author" content="Aaron Powell">
  <meta name="viewport" content="width=1040" />
  <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600|Arvo:700" rel="stylesheet" type="text/css" />
  <link href="/css/highlightjs/solarized_light.css" rel="stylesheet" type="text/css" />
  <script src="/js/jquery-1.9.1.min.js"></script>
  <script src="/js/jquery.dropotron-1.3.js"></script>
  <script src="/js/config.js"></script>
  <script src="/js/skel.min.js"></script>
  <script src="/js/skel-ui.min.js"></script>
  <noscript>
    <link rel="stylesheet" href="/css/skel-noscript.css" />
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/style-desktop.css" />
  </noscript>
  <!--[if lte IE 8]><script src="/js/html5shiv.js"></script><![endif]-->

</head>

    <body class="left-sidebar">

        <div id="header-wrapper">
            <div id="header" class="container">
                <h1 id="logo">Analyzers in Lucene.Net</h1>
                <h2>27th May 2010</h2>
                <ul class="tags">
    
        <li><a class="icon icon-tag" href="/tagged/lucene-net.html"><span>lucene.net</span></a></li>
    
        <li><a class="icon icon-tag" href="/tagged/c-.html"><span>c#</span></a></li>
    
        <li><a class="icon icon-tag" href="/tagged/net.html"><span>.net</span></a></li>
    
        <li><a class="icon icon-tag" href="/tagged/examine.html"><span>examine</span></a></li>
    
        <li><a class="icon icon-tag" href="/tagged/umbraco-examine.html"><span>umbraco-examine</span></a></li>
    
</ul>
                <!-- Nav -->
<nav id="nav">
    <ul>
        <li><a class="icon icon-home" href="/"><span>Home</span></a></li>
        <li><a class="icon icon-github" href="https://github.com/aaronpowell"><span>aaronpowell</span></a></li>
        <li><a class="icon icon-twitter" href="http://twitter.com/slace"><span>@slace</span></a></li>
        <li><a class="icon icon-book" href="/about"><span>About Me</span></a></li>
        <li><a class="icon icon-rss" href="/feed"><span>Feed</span></a></li>
    </ul>
</nav>

            </div>
        </div>

        <div id="main-wrapper">
            <div id="main" class="container">
                <div class="row">
                    <div id="sidebar" class="4u">
    <section>
        <ul class="divided">
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">9th June 2010</span>
                            <h3><a href="/posts/2010-06-09-supporting-valuetypes-in-autofac.html">Supporting ValueTypes in Autofac</a></h3>
                        </header>
                        <p>Autofac doesn&#39;t support injection of value types as properties, here&#39;s how to support it.</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/autofac.html"><span>autofac</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/c-.html"><span>c#</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">19th May 2009</span>
                            <h3><a href="/posts/2009-05-19-query-syntax-vs-method-syntax.html">Query Syntax vs Method Syntax</a></h3>
                        </header>
                        <p>What&#39;s the difference with LINQ to using query syntax to pure lambda expressions?</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/linq.html"><span>linq</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/c-.html"><span>c#</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/net.html"><span>.net</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">7th April 2010</span>
                            <h3><a href="/posts/2010-04-07-csharp.html">C#/ .NET</a></h3>
                        </header>
                        <p>Source of all that I&#39;ve written about in the .NET world</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/c-.html"><span>c#</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/net.html"><span>.net</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">8th April 2010</span>
                            <h3><a href="/posts/2010-04-08-are-extension-methods-really-evil.html">Are Extension Methods Really Evil?</a></h3>
                        </header>
                        <p>Ruben (of Umbraco fame) recently wrote a post entitled Extension Methods: Silent static slaves which was in response to a comment I&#39;d left on a previous post about static classes and static method ...</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/c-.html"><span>c#</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/net.html"><span>.net</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/extension-methods.html"><span>extension-methods</span></a>
                            
                        </div>
                    </article>
                </li>
            
                <li>
                    <article class="is-excerpt">
                        <header>
                            <span class="date">14th April 2010</span>
                            <h3><a href="/posts/2010-04-14-lucene-net-overview.html">An overview of Lucene.Net</a></h3>
                        </header>
                        <p>Overview and table-of-contents for Lucene.Net articles</p>

                        <div class="tags">
                            
                                <a class="icon icon-tag" href="/tagged/lucene-net.html"><span>lucene.net</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/c-.html"><span>c#</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/net.html"><span>.net</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/examine.html"><span>examine</span></a>
                            
                                <a class="icon icon-tag" href="/tagged/umbraco-examine.html"><span>umbraco-examine</span></a>
                            
                        </div>
                    </article>
                </li>
            
        </ul>
    </section>
</div>

                    <div id="content" class="8u skel-cell-mainContent">
                        <article class="is-post">
                            <h2>What is an Analyzer?</h2>
<p>When you want to insert data into a Lucene index, or when you want to get the data back out of the index you will need to use an Analyzer to do this.</p>
<p>Lucene ships with many different Analyzers and picking the right one really comes down to the needs of your implementation. There are ones for working with different languages, ones which determine how words are treated (and which words to be ignored) or how whitespace is handled.</p>
<p>Because Analyzers are used for both indexing and searching you can use different ones for each operation if you want. It&#39;s not generally best practice to use different Analyzers, if you do you may have terms handled differently. If you used a WhitespaceAnalyzer when you do your indexing but a StopAnalyzer for retrieval although the word &quot;and&quot; is fine for indexing it wont be found when searching.</p>
<h2>Common Analyzers</h2>
<p>Not all of the Analyzers are useful in common scenarios, hopefully this will help you work out which one to use for your scenarios.</p>
<h3>Keyword Analyzer</h3>
<p>This Analyzer will treat the string as a single search term, so if you needed to handle say a product name (which has spaces in it) as a single search term then this is likely the one you want. It doesn&#39;t concern itself with stop words or anything of the like, but it&#39;s not really that good if you&#39;ve got a large block of text that you want to insert into the index.</p>
<h3>Stop Analyzer &amp; Standard Analyzer</h3>
<p>These are the most common Analyzers you&#39;ll come across when working with Lucene, in fact the StandardAnalyzer is the default one which is used within Examine (you can specify in the config the Analyzer for both indexing and searching though).</p>
<p>The StandardAnalyzer actually combines parts of the StopAnalyzer, StadnardFilter &amp; LowerCaseFilter. The StandardAnalyzer understands English punctuation for breaking down words (hyphens, etc), words to ignore (via the StopAnalyzer) and <strong>technically</strong> case insensitive searching (by doing lowercase comparisons).</p>
<p>The StopAnalyzer (which is <strong>kind of</strong> a lesser version of the StandardAnalyzer) understands standard English words to ignore. This actually got me unstuck at one point, I was trying to search on the letter A in a field (which only contained a single letter) and any match with the letter A was being ignored. This is because the following list of words are skipped over by the Analyzer:</p>
<pre class="highlighted"><code class="dos">"a", "an", "and", "are", "as", "at", "be", "but", "by", "<span class="flow">for</span>", "<span class="flow">if</span>", "<span class="flow">in</span>", "into", "is", "it", "no", 
"<span class="flow">not</span>", "of", "on", "or", "such", "that", "the", "their", "then", "there", "these", "they", "this", 
"to", "was", "will", "with"</code></pre>
<p>So if I was to search on <code>this world rocks</code> then I&#39;d only have matches on <code>world</code> or <code>rocks</code>, the word <code>this</code> is ignored.</p>
<h3>Whitespace Analyzer</h3>
<p>The WhitespaceAnalyzer is also a bit of a sub-set of the StandardAnalyzer, where it understands word breaks in English text, based on spaces and line breaks.</p>
<p>This Analyzer is great if  you want to search on any English word, it doesn&#39;t ignore stop words so you can search on <code>a</code> or <code>the</code> if required. This was how I got around the problem I described above.</p>
<h2>Conclusion</h2>
<p>Understanding Analyzers can be a tricky aspect of Lucene, and it can be the cause of some grief if they are not properly handled.</p>
<p>The general rule of the thumb is that the StandardAnalyzer will do what you require, giving you well structured results and filter out irrelevant English language words, but the other main Analyzers will help filter down results based in your requirements.</p>
<p>And if you feel like getting really crazy (or you&#39;re dealing with non-English content) there are plenty of other Analyzers within Lucene you can look int.</p>

                        </article>
                    </div>
                    <div class="8u skel-cell-mainContent">
                        <article class="is-post">
                            <div id="disqus_thread"></div>
<script>
/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
window.disqus_shortname = 'aaronpowell'; // required: replace example with your forum shortname
window.disqus_identifier = document.title || 'Home';
window.disqus_developer = !! ~document.location.href.indexOf("localhost") ? 1 : 0;
window.disqus_url = document.location.origin + '/lucene-analyzer';

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by</a>
<span class="logo-disqus"> Disqus</span>

                        </article>
                    </div>
                </div>
            </div>
        </div>

        <div id="footer-wrapper">

    <!-- Copyright -->
        <div id="copyright" class="container">
            <ul class="links">
                <li>&copy; Aaron Powell. All rights reserved</li>
                <li>Design: <a href="http://html5up.net/">HTML5 UP</a></li>
            </ul>
        </div>

</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-6399564-1']);
  _gaq.push(['_trackPageview']);

  (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();

</script>

    </body>
</html>